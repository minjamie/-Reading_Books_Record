> ### \*🔐Study Keyword :

> ✅랜에서 데이터를 주고받는 규칙, 이더넷과 데이터 링크 계층의 역할 대해서 알아보자

# 데이터 링크 계층의 역할과 이더넷

![](https://images.velog.io/images/minj9_6/post/b3a6e6f7-1fa9-41fd-803d-13f34783c58a/image.png)[이미지 출처](https://itchallenger.tistory.com/m/217)

## 데이터 링크 계층

- 랜에서 데이터를 주고 받으려면 두 번째 계층인 **데이터 링크 계층**의 기술이 필요하다.
- 데이터 링크 계층은 **네트워크 장비 간에 신호를 주고받는 규칙**을 정하는 계층으로, 랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층이다.

**WHAT❓**

## 이더넷

> - 그 중 가장 많이 사용되는 규칙이 바로 **이더넷(Ethernet)**이다.

- 즉, 이더넷은 랜에서 적용되는 규칙으로 허브와 같은 장비에 연결된 컴퓨터와 데이터를 주고 받을 때 사용된다.

- 더미 허브에 데이터를 보내는 경우 컴퓨터 한 대에 데이터를 보내도 다른 모든 컴퓨터에 전기 신호가 전달된다.

![](https://images.velog.io/images/minj9_6/post/3cfb5ff5-c1a2-4459-8ad9-1822b2ae7275/image.png)[이미지 출처](https://itchallenger.tistory.com/m/217)

> - 이런 경우를 위해 데이터의 내용을 못보게 하는 확실한 규칙이 정해져있다.

- 그 규칙에 따라 보내려는 데이터에 **목적지** 정보를 추가해서 보내고 목적지 이외의 컴퓨터는 데이터를 받더라도 무시하게된다.

> - 컴퓨터 여러대가 동시에 데이터를 보내면 데이터들이 서로 부딪힐 수 있는 데이를 **충돌**이라고 한다.

- 따라서 이너뎃은 **여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조**로 되어있다.

![](https://images.velog.io/images/minj9_6/post/bdc4e1bd-1c1b-463c-8c8f-ab0d9c9d3205/image.png)[이미지 출처](https://itchallenger.tistory.com/m/217)

- 충돌할 수 밖에 없는 상황에서 데이터를 보내는 시점을 늦추는데 이더넷에서 늦추는 방법을 **`CSMA/CD`**라고한다.

### 📀 CSMA/CD 📀

![](https://images.velog.io/images/minj9_6/post/6c043b1d-1c12-4b19-8fc4-ccf5555db11c/image.png)

> - 반송파 감지 다중 접속 및 충돌 탐지의 의미를 지녔다

- **CS**는 데이터를 보내려고하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지를 확인하는 규칙이다.
- **MA**는 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다는 규칙이다.
- 마지막 **CD**는 총돌이 발생하고 있는지를 확인한다는 규칙이다.
  => 이러한 규칙으로 데이터를 주고받으면 충돌이 일어나지 않는다.
  => 예전에는 이러한 방식으로 충돌을 피했으나 직금은 효율이 좋지 않아 CSMA/CD를 사용하지 않고 **`스위치`**라는 네트워크 장비를 사용해서 충돌을 피한다.

### \*💡conclusion

> - 이너뎃은 랜에서 데이터를 정상으로 주고받기 위한 규칙이다.

- 이더넷은 데이터 충돌 막기 위한 규칙으로 CSMA/CD 방식을 사용한다.
- CSMA/CD에서 CS는 데이터를 보내려고하는 컴퓨터가 케이블에 신호가 있는지 확인하는 규칙, MA는 케이블에 데이터가 흐르고 있지 않으면 데이터를 보내도 좋다는 규칙, CD는 총돌이 발생하고 있는 확인하는 규칙이다.

### #📑Study Source

> - 모두의 네트워크, 4장 네트워크 링크 계층, 데이터 링크 계층의 역할과 이더넷를 읽고

---

### \*🔐Study Keyword :

> ✅랜 카드를 제조할 때 정해지는 물리적 주소에 대해 알아보자

# MAC 주소

> - 랜 카드는 비트열(0과 1)을 전기 신호로 변환하는데 이러한 랜카드에는 **`MAC 주소`**라는 번호가 정해져있다.

- 제조할 때 새겨때문에 **물리 주소**라고도 부르는데 **전 세계에서 유일한 번호**로 할당되어있다.

![](https://images.velog.io/images/minj9_6/post/651f4531-9c7b-41b3-852b-c2700e5951d7/image.png)- [이미지 출처](https://dahye-jeong.gitbook.io/til/network/2021-07-04-data-link-layer)

> - 이때 중복이 되지 않도록 규칙이 명확하게 정해져 있다.

- MAC 주소는 48비트 숫자로 구성되어있고 그 중 앞쪽 24비트는 랜카드를 만든 제조사 번호, 뒤쪽 24비트는 제조사가 랜 카드에 붙련 번호를 의미한다.

#### MAC 주소를 사용한 통신에 대해

- OSI 모델에서는 데이터 링크 계층, TCP/IP 모델에서는 네트워크 계층에서
  **헤더**를 붙이는데 이 계층에서 **이더넷 헤더와 트레일러**를 붙인다.

#### 이더넷 헤더

- 이더넷 헤더의 목적은 MAC 주소(6), 출발지 MAC 주소(6), **유형**(2) 이렇게 총 14바이트로 구성이 되어있다.

#### 유형?

![](https://images.velog.io/images/minj9_6/post/080566ee-92f2-43c8-b6ba-f00d99039adf/image.png)[이미지 출처](https://velog.io/@jkl133/4%EC%9E%A5.-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%81%ED%81%AC-%EA%B3%84%EC%B8%B5)

- **이더넷 유형**은 **이더넷으로 전송되는 상위 계층 프로토콜의 종류**를 나타낸다. 표와 같이 프로토콜을 식별하는 16진수 번호가 들어간다
- 유형에 **프로토콜 종류를 식별하는 번호**가 들어간다는 내용을 기억해야한다.

#### 트레일러

- 이더넷 헤더 외에 데이터 뒤에 추가하는 것 중 하나로 **FCS**라고도 하는데, 데이터 전송 도중에 오류가 발생하는지 확인하는 용도로 사용한다.

=> 이처럼 이더넷 헤더와 트레일러가 추가된 데이터를 **프레임**이라고 한다.

### 프레임

네트워크를 통해 프레임이 전송되는데 네트워크에서 이더넷 헤더를 이용한 통신의 경우 허브의 연결된 컴퓨터 MAC 주소는 다음과 같다.
![](https://images.velog.io/images/minj9_6/post/9be7c45b-6bf8-4391-aeb5-fcac4292bcb6/image.png)

> - 컴퓨터가 데이터를 다른 컴퓨터로 전송할 때 이더넷 헤더에 데이터의 목적지인 컴퓨터의 **MAC 주소(목적지 MAC 주소)와 자신의 MAC 주소(출발지 MAC 주소)**를 넣고 데이터를 전송한다.

- 이때 보내측의 컴퓨터에서 캡슐화가 일어나고 데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가하여 **프레임**을 만들고, 물리 계층에서 이 프레임 비트열을 **전기 신호**로 변화하여 네트워크를 통해 전송한다.

1> 허브는 송신 측이 보낸 컴퓨터가 보낸 데이터를 포트로 수신하고 그 외의 모든 포트로 전송한다.
2> 데이터는 나머지 컴퓨터에 전송되지만 목적지 MAC 주소가 자신의 MAC 주소와 다르기 때문에 **데이트를 파기**한다.
3> 반면 수신 측 컴퓨터는 자신의 MAC 주소가 송신 측 컴퓨터가 보낸 데이터의 목적지 MAC 주소와 같으므로 데이터를 수신할 수 있다.
4> 수신 측 컴퓨터에서 물리 계층에서 전기 신호로 전송된 데이터를 비트열로 변환하고 데이터 링크 계층에서 이더넷 헤더와 트레이러를 분리하여 역캡슐화를 하고 데이터를 수신한다.

#### 만약 여러대의 컴퓨터가 데이터를 전송하는 경우엔?

- 이런 경우에 충돌을 방지하기 위해서 CSMA/CD 방식을 사용되는데 **충돌**이 감지되면 잠시 대기하고 데이터를 다시 전송한다.
- 이처럼 CSMA/CD 규칙이 있어서 데이터 충돌이 일어나지 않으며 **이더넷**도 네트워크에서 발생할 수 있는 문제를 확실하게 고려한 규격이라 볼 수 있다.

### \*💡conclusion

> - MAC 주소는 48비트 숫자로 구성되어있고 그 중 앞쪽 24비트는 랜카드를 만드는 제조사 번호 뒤쪽 24비트는 제조사가 랜 카드에 붙인 일련번호이다.

- 이더넷 헤더는 목적지 MAC 주소, 출발지 MAC 주소, 유형으로 총 14바이트로 구성되어있다.
- 데이터 링크 계층에서 데이터 뒤에 추가하는 것을 트레일러라 한다.

### #📑Study Source

> - 모두의 네트워크, 4장 네트워크 링크 계층, MAC 주소의 구조를 읽고

---

### \*🔐Study Keyword :

> ✅랜 카드를 제조할 때 정해지는 물리적 주소에 대해 알아보자

# MAC 주소

> - 랜 카드는 비트열(0과 1)을 전기 신호로 변환하는데 이러한 랜카드에는 **`MAC 주소`**라는 번호가 정해져있다.

- 제조할 때 새겨때문에 **물리 주소**라고도 부르는데 **전 세계에서 유일한 번호**로 할당되어있다.

![](https://images.velog.io/images/minj9_6/post/651f4531-9c7b-41b3-852b-c2700e5951d7/image.png)- [이미지 출처](https://dahye-jeong.gitbook.io/til/network/2021-07-04-data-link-layer)

> - 이때 중복이 되지 않도록 규칙이 명확하게 정해져 있다.

- MAC 주소는 48비트 숫자로 구성되어있고 그 중 앞쪽 24비트는 랜카드를 만든 제조사 번호, 뒤쪽 24비트는 제조사가 랜 카드에 붙련 번호를 의미한다.

#### MAC 주소를 사용한 통신에 대해

OSI 모델에서는 데이터 링크 계층, TCP/IP 모델에서는 네트워크 계층에서
**헤더**를 붙이는데 이 계층에서 **이더넷 헤더와 트레일러**를 붙인다.

#### 이더넷 헤더

> - 이더넷 헤더의 목적은 MAC 주소(6), 출발지 MAC 주소(6), **유형**(2) 이렇게 총 14바이트로 구성이 되어있다.

#### 유형?

![](https://images.velog.io/images/minj9_6/post/080566ee-92f2-43c8-b6ba-f00d99039adf/image.png)[이미지 출처](https://velog.io/@jkl133/4%EC%9E%A5.-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%81%ED%81%AC-%EA%B3%84%EC%B8%B5)

> - **이더넷 유형**은 **이더넷으로 전송되는 상위 계층 프로토콜의 종류**를 나타낸다. 표와 같이 프로토콜을 식별하는 16진수 번호가 들어간다

- 유형에 **프로토콜 종류를 식별하는 번호**가 들어간다는 내용을 기억해야한다.

#### 트레일러

> - 이더넷 헤더 외에 데이터 뒤에 추가하는 것 중 하나로 **FCS**라고도 하는데, 데이터 전송 도중에 오류가 발생하는지 확인하는 용도로 사용한다.

### 프레임

- 이처럼 이더넷 헤더와 트레일러가 추가된 데이터를 **프레임**이라고 한다.

- 네트워크를 통해 프레임이 전송되는데 네트워크에서 이더넷 헤더를 이용한 통신의 경우 허브의 연결된 컴퓨터 MAC 주소는 다음과 같다.
  ![](https://images.velog.io/images/minj9_6/post/9be7c45b-6bf8-4391-aeb5-fcac4292bcb6/image.png)

> - 컴퓨터가 데이터를 다른 컴퓨터로 전송할 때 이더넷 헤더에 데이터의 목적지인 컴퓨터의 **MAC 주소(목적지 MAC 주소)와 자신의 MAC 주소(출발지 MAC 주소)**를 넣고 데이터를 전송한다.

- 이때 보내측의 컴퓨터에서 캡슐화가 일어나고 데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가하여 **프레임**을 만들고, 물리 계층에서 이 프레임 비트열을 **전기 신호**로 변화하여 네트워크를 통해 전송한다.

![](https://images.velog.io/images/minj9_6/post/caf872c8-25bb-433a-ab9c-b83e5d5c4c8c/image.png)

> 1> 허브는 송신 측이 보낸 컴퓨터가 보낸 데이터를 포트로 수신하고 그 외의 모든 포트로 전송한다.
> 2> 데이터는 나머지 컴퓨터에 전송되지만 목적지 MAC 주소가 자신의 MAC 주소와 다르기 때문에 **데이트를 파기**한다.
> 3> 반면 수신 측 컴퓨터는 자신의 MAC 주소가 송신 측 컴퓨터가 보낸 데이터의 목적지 MAC 주소와 같으므로 데이터를 수신할 수 있다.
> 4> 수신 측 컴퓨터에서 물리 계층에서 전기 신호로 전송된 데이터를 비트열로 변환하고 데이터 링크 계층에서 이더넷 헤더와 트레이러를 분리하여 역캡슐화를 하고 데이터를 수신한다.

#### 만약 여러대의 컴퓨터가 데이터를 전송하는 경우엔?

> - 이런 경우에 충돌을 방지하기 위해서 CSMA/CD 방식을 사용되는데 **충돌**이 감지되면 잠시 대기하고 데이터를 다시 전송한다.

- 이처럼 CSMA/CD 규칙이 있어서 데이터 충돌이 일어나지 않으며 **이더넷**도 네트워크에서 발생할 수 있는 문제를 확실하게 고려한 규격이라 볼 수 있다.

### \*💡conclusion

> - MAC 주소는 48비트 숫자로 구성되어있고 그 중 앞쪽 24비트는 랜카드를 만드는 제조사 번호 뒤쪽 24비트는 제조사가 랜 카드에 붙인 일련번호이다.

- 이더넷 헤더는 목적지 MAC 주소, 출발지 MAC 주소, 유형으로 총 14바이트로 구성되어있다.
- 데이터 링크 계층에서 데이터 뒤에 추가하는 것을 트레일러라 한다.

### #📑Study Source

> - 모두의 네트워크, 4장 네트워크 링크 계층, MAC 주소의 구조를 읽고
