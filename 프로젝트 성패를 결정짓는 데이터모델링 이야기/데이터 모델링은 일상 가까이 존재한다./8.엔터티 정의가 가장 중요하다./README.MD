# Chapter 8: 엔터티 정의가 가장 중요하다. 고백건데 엔터티 모델링은 어렵고 힘들다.

엔터티는 수학의 집합 이론에 근거한다. 소프트웨어 공학의 모델은 수학이라는 아버지와 철학이라는 어머니 사이에 태어난 자식이고 이해해도 무방하다.

## 📌 엔터니는 집합과 닮았다.

- 수학의 집합과 데이터 모델의 엔터니는 닮았다.

첫째, 집합은 구체적이고 객관적인 기준에 의해 그 원소를 명확히 구분할 수 있어야한다.
즉, 집합을 구성하는 개체들은 집합 내에서 유일하게 식별될 수 있어야한다.

둘째, 논리적인 개념도 집합의 구성 요소가 될 수 있다. 눈으로 보거나 손으로 만질 수 없다라도 첫 번째 조건을 충족하는 개념이면 이 역시 집합이 될 수 있다.

이러한 수학적 '집합'의 개념을 바탕으로 엔터티를 정의하면 다음과 같다.

#### 📖 엔터티

- **엔터티는 업무의 기준이 되는 유 무형의 사물과 정보, 이를 기초로 발생하는 사건, 거래 혹은 행위 객체들을 성격이 유사한 것끼리 모아놓은 집합**이다.

#### 집합의 원소에 해당하는 개체

- '어떤 집합에 포함되며 서로 간에 특정 식별자로 구분되는 개별 요소 혹은 단위 객체'라고 할 수 있다.
- 개체의 정의에 따라 집합의 개념이 달라질 수 있다. 그러므로 어떤 단위를 개체로 볼 것인가에 대한 판단은 집합의 특성을 결정 짓는 중요한 요소다.

#### 📋 엔터티 정의

- 특정 집합에 담을 것과 담지 않을 것을 규정
- 해당 집합을 구성하는 하나하나의 개체의 성격을 정확히 정의하는 것이 중요

## 📌 엔터티 정의, 철학이 필요한 시간

모델링 서적에 자주 언급되는 몇가지 화두

> #### 📚 데이터는 업무 프로세스와 무관해야한다. 즉, 프로세스에 종속적이지 않아야한다.
>
> -> 업무 변화에 흔들리지 않는 모델이 되려면 업무의 외면이나 당장의 현상이 아닌 그 현상을 일으키는 근본으로서의 원형을 꿰뚫어보어야한다.

#### 📚 업무 활동과 절차가 변한다고 데이터 모델링이 쉽게 바뀌어선 안된다.

#### 📚 데이터 모델은 업무를 명확히 표현해야한다.

-> 데이터 모델은 업무를 데이터 관점으로 명확히 표현(추상화)해야한다.

![](https://images.velog.io/images/minj9_6/post/8af07b74-084c-4864-af70-f2cff18a0a94/image.png)- 잘못된 관점이 반영된 정보자산관리 모델

- 위 모델에서 임차 자산 하위에 자산 유형에 따른 <소프트웨어><노트북> 등의 개체가 존재
  - '구매냐 임차냐'의 관점이 자산 개체를 지배, 만약 일정 기간 임차 후 소유같은 새로운 구매 방식이 들어오면 업무활동에 따라 구조가 달라지면서 복잡하고 여려워진다
- 좋은 구조는 있는 그대로가 아닌 **본질을 담고 있는 구조**이다.

#### 현상과 본질

> - 철학자의 언어로 의자와 책상 처럼 직접 보이는 세계를 **현상**이라 하며
>   나무 같은 개별 존재의 공통 속성은 **본질**이라고 한다.

- 인터넷 주문과 전화 주문을 현상이라 본다면 주문 자체는 더 원형적인 본질로 이해할 수 있다.

유무형의 사물과 정보에 대한 '존재' 그 자체를 파악하고 이를 근간으로 만들어지는 개별 '사건'(비즈니스 트랙잭션)을 분리해서 이해하는데 도움이 되는 인식론에 대해 알아보자

서양 철학의 사유 방식은 근본적으로 상반된 두 관점으로 나뉘어있다.
1> 플라톤과 아리스토텔레스를 따르는 **실체 중심적** 철학 :

- 사유 체계인 범주론을 보면 실체, 분량, 성질, 관계, 장소, 시간, 위치, 상태 등으로 구성된 범주표가 나오는 다양한 사유 유형 줭 본질을 뜻하는 실체가 첫 번째로 등장한다.
- 실체로서 존재는 다른 것과 관련하지 않고 오직 자신과만 관련 있으므로 존재는 독립적이다.
  2> 들뢰즈에 **관심 중심적** 사유 :
- 관계(사건, 현상)에 대한 사유로 현실 세계의 모든 사건, 행위, 현상은 **영토성과 코드성**으로 이루어진다.
- 사물들이 일정한 방식으로 자리에 알맞게 나누어지고 언어적/의미론적 코드에 따라 기능할 때 영토성성립한다.
- 이처럼 사건과 무관한 순수하고 본질적인 영역인 영토성 존재가 모델링의 주요 관심 대상이 되어 데이터 모델 걔층의 최상 엔터티는 들뢰즈의 영토와 같이 본질의 영역이어야한다.

## 📌 명확하게 정의된 집합으로 모델링을 시작하자

엔터티를 명확히 **정의**한다는 것의 의미는 1> 집합의 **성격**에 부합하는 엔터티 명을 지어준다는 뜻도 있지만, 2_1> 그 집합의 개체들이 어떤 **기준**으로 발생되고 관리되는지 명시적으로 규정하는 것, 2_2> 속성들이 어떤 수준이나 존재(엔터티)에 고유한 특성인지 파악하는 것이다.
3> 개체의 발생 규칙(시간)과 주 식별자가 일치하는 지 검증하는 것도 엔터티 정의에 중요한 과정이다.

엔터티를 어떻게 정의하느냐에 따라 개체가 어떻게 증가하는지 결정되며 그 정체성에 따라 주변의 관계도 달라진다. 개체의 단위를 어떻게 정의하느냐에 따라 엔터티가 결정된다.

## 📌 엔터티 모델링이 어려운 이유

엔터티의 적당한 크기(추상화 수준)를 결정하는 기준을 찾기 어렵다.

1. 데이터 집합을 정희하기 쉽지 않다.

- 모델링은 업무 데이터의 분류와 묶음의 행위인데 **기준**이 없거나 애매하면 진도를 나가기 어렵다.
- 기준이 무엇인지 명확히 밝히고 객관하하여 이를 실전에서 활용해야한다.

2. **데이터의 본질**을 볼 줄 알아야 엔터티를 정확하게 정의할 수 있다.

- 어떤 속성이 어떠한 수준이나 존재에 고유한 특성인지 파악하고 정리할 수 있는 통찰력이 필요

3. 엔터티의 추상화 수준을 결정하는 것은 어렵다.

- 추상화 수준이란 다양한 의미를 포함한다.
- 필요에 따라 이웃한 유사 집합과 통합하고 분리하는 과정을 거치면서 엔터티의 크기 결정할 수 있는 내공이 필요

4. 하위의 트랙잭션 데이터만을 보고 부모 역할을 하는 상위의 논리적인 집합을 발견하는 것은 어렵다.

- 해당 엔터티를 찾아내지못하면 모호하거나 이상하게 그려지고 데이터 중복되거나 이상 현상이 발생한다.
- 눈에 보이진 않지만 존재하는 논리적인 집합을 발견할 수 있는 통찰이 필요

5. 업무의 방대함과 복잡도에 압도되기 쉽다.

- 주어진 리소스만으로의 업무의 복잡도에 압도되지 않으면서 효율을 극대화해주는 방법론이 필요

### \*💡conclusion

> - 엔터티를 명확히 정의하고 엔터티에 포함된 개체를 분명히 이해하는 것이 아주 중요하다.
