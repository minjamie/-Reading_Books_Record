# Chapter 2: 데이터를 이해한다는 것.

## 📌 업무를 이해한다는 것과 업무 데이터를 이해한다는 것

#### 📚 업무 처리 절차 (어떤 회사의 구매 업무를 데이터 모델링)

1.다른 팀으로부터 상품 구매를 의뢰받는다. 2.구매팀의 상품 유형별 담당자가 상품을 판매하는 회사, 가격 등에 대한 시장조사를 수행한다. 3.후보 회사들과의 협상이나 입찰을 통해 최종 구매 회사, 상품, 가격을 결정하거나, 기업 간 B2B 웹사이트에서 직접 주문하기도 한다. 4.선정된 구매 건을 품의한다. 구매를 요청한 팀에도 이를 통보한다. 5.품의 완결 후 업체와 구매 계약을 맺고 계약금을 지급한다. 6.상품을 납품받으면 잔금을 지급하고 구매를 요청한 팀에 해당 상품을 전달한다.

#### 📚 업무를 이해한다는 것

- 위의 메가 프로세스와 같이 **단위 업무의 시작과 끝을 일의 경로나 공정을 중심으로 알아간다**는 뜻이다.

#### 📚 업무 데이터를 이해한다는 것

> 데이터 관점으로 업무를 이해하는 건 무엇이 주로 관심 대상이 되는건가?
> => 누가, 언제, 어떤 상품을 어느 회사로부터 얼마에 구매했느냐는 비즈니스 행위일 것이다.
> 예를 들어, 상품 구매를 의뢰받거나 구매품의 내용을 의뢰한 팀에 통보하는 과정이 오프라인으로 처리될 수도 있다. -> 이러한 프로세스는 업무 데이터 관점에서는 관심 밖으로 밀어낼 수 있다. 하지만 온라인으로 처리해야 한다면 업무 데이터와 연관이 있을 수도 있는 것이다.
> 같은 상품을 구매팀의 서로 다른 담당자가 여러 번 구매할 수 있는지,
> 특정 상품을 구매하기 위해서는 반드시 선주문하거나 함께 구매해야 하는 다른 상품이 있는지와 같은 규칙들이 업무 데이터와 연관이 있다.

#### 업무 데이터를 이해한 다는 것의 진짜 의미

- 겉으로 드러나는 업무 처리 방법이나 공정과는 분리해서, 그 안에서 데이터가 어떻게 발생하고 흐르는지, 데이터 사이의 선행 관계와 같은 종속성 규칙을 관찰하고 읽어내야 한다.
- 업무 데이터를 이해한다는 것은 기업의 비즈니스를 데이터 측면에서 처음부터 끝까지 조명해보는 것.
  업무 프로세스나 프로세스 지원 시스템의 기능과는 완전히 분리해서 생각해야 한다.

📚 전체적인 맥락을 파악하는 것이 모델링에서 중요하다.

'고객이 특정 상품을 평생 단 한번만 구매할 수 있다'라는 요건이 있다면 구매는 고객과 상품의 관계 엔터티로 볼 수 있다. 그러나 우리가 인터넷 쇼핑몰에서 오늘 산 상품을 내일 또 구입하지 말라는 법은 없으니 이러한 전제는 현실적이지 않다. 고객이 같은 상품을 여러번 살 수 있도록 하려면 시간이라는 개념이 하나 더 관계되어야 한다.

주문을 고객과 상품의 단편적인 관계로 보면 주문이라는 데이터는 고객과 상품에 종속되므로, 주문의 키값은 <고객번호>와 <상품번호>여야 한다. 만약 동일한 고객이 1시간 후에 같은 상품을 주문한다면? <고객번호>와 <주문번호>만으로는 이전 주문과 구별할 수 없으니 <주문일시>와 같은 시각 정보나 <주문일련번호>와 같은 인조 식별자를 추가할 수 밖에 없다.

주문은 상품보다는 주문 시각이라는 시간 개념이 절대적으로 개입되는 고객 행위로 보아야 한다. unique한 PK를 만들 수 있다.

시각 정보를 주문의 식별자로 추가하는 순간 상품번호는 식별자로는 필요가 없어진다.
